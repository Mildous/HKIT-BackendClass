<%@page import="java.util.List"%>
<%@page import="java.util.Scanner"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	String arg1 = request.getParameter("arg1");

	if(arg1 == null || arg1.trim().equals("")) {
		out.println("<script>");
		out.println("alert('정상적인 접속이 아닙니다.');");
		out.println("location.href = 'list.jsp';");
		out.println("</script>");
		return;
	}

	String attachPath = "C:/Users/HKIT/COY/attach";
	String uploadPath = attachPath + "/testFile/jspTest";
	String uploadFile = uploadPath + "/member.txt";
	
			
	try {
		java.io.File f = new java.io.File(uploadFile);
		Scanner sReader = new Scanner(f);
					
		while(sReader.hasNextLine()) {
			String data = sReader.nextLine();
			
			String[] imsiArray = data.split(",");
			String id = imsiArray[0];
			String pw = imsiArray[1];
			String name = imsiArray[2];
			String tel = imsiArray[3];
			String addr = imsiArray[4];
			String email = imsiArray[5];
			
			String msg = id + "/" + pw + "/" + name + "/" + tel + "/" + addr + "/" + email;
			list.add(msg);
		}
		if(arg1.equals("id")) {
			for(int i=0; i<list.size(); i++) {
				String imsi = list.get(i);
				String[] mArray = imsi.split("/");
				String mId = mArray[0];
				String mPw = mArray[1];
				String mName = mArray[2];
				String mTel = mArray[3];
				String mAddr = mArray[4];
				String mEmail = mArray[5];
			}
		}
	} catch(Exception e) {
		e.printStackTrace();
	}
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>회원목록</title>
</head>
<body>

<table border="1" width="80%" align="center">

<tr>
	<td height="300px;" align="center">
		<h2>회원상세보기</h2>
		<table border="1" align="center" width="70%">
			<tr>
				<td>아이디</td>
				<td><%= mId %></td>
			</tr>
			<tr>
				<td>이름</td>
				<td><%= name %></td>
			</tr>
			<tr>
				<td>연락처</td>
				<td><%= phone %></td>
			</tr>
			<tr>
				<td>주소</td>
				<td><%= address %></td>
			</tr>
			<tr>
				<td>이메일</td>
				<td><%= email %></td>
			</tr>
			
		</table>
		<div style="border: 0px solid blue; width: 70%; margin-top: 10px;" align="right">
		|
		<a href="#" onClick="move('list.jsp');">목록</a>
		|
		<a href="#" onClick="move('chuga.jsp');">등록</a>
		|
		<a href="#" onClick="move('sujung.jsp', '<%= id%>');">수정</a>
		|
		<a href="#" onClick="move('delete.jsp', '<%= id%>');">삭제</a>
		|
		</div>
	</td>
</tr>
</table>
<script>
function move(value1, value2) {
	location.href = value1 + "?arg1=" + value2;
}
</script>
</body>
</html>