<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ include file="../_include/inc_header.jsp" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>memo</title>
</head>
<body>

<%@include file="../_include/inc_menu.jsp" %>
<h2>${title}</h2>

<table border="1" width="80%">

<tr>
	<th>순번</th>
	<th>아이디</th>
	<th>비밀번호</th>
	<th>이름</th>
	<th>생년월일</th>
	<th>전화번호</th>
	<th>가입일</th>
</tr>

<c:choose>
	<c:when test="${ empty member }">
	<tr>
		<td colspan="7" height="200px" align="center">등록된 회원이 없습니다..</td> 
	</tr>
	</c:when>
	
	<c:otherwise>
		<c:forEach items="${ member }" var="dto" varStatus="loop">
		<tr align="center">
			<td>${ loop.index + 1 }</td>
			<td align="center">
				<a href="#" onclick="move('member_view.do', '${ dto.no }');">${ dto.id }</a>
			</td>
			<td>${ dto.passwd }</td>
			<td>${ dto.name }</td>
			<td>${ dto.jumin1 }-${ dto.jumin2 }******</td>
			<td>${ dto.phone1 }-${ dto.phone2 }-${ dto.phone3 }</td>
			<td>${ dto.regiDate }</td>
		</tr>
		</c:forEach>
	</c:otherwise>
</c:choose>

<tr>
	<td colspan="7" align="center" height="50px">
	${ map.pagingImg }
	</td>
</tr>
</table>

<div style="width: 80%; padding-top: 10px;" align="right">
|
<a href="${ path }/member_servlet/member_list.do">전체목록</a>
|
<a href="#" onclick="move('member_list.do', '');">목록</a>
|
<a href="#" onclick="move('member_regi.do', '');">등록</a>
|
</div>

<script>
function move(value1, value2) {
	location.href='${ path }/member_servlet/' + value1 + '?pageNum=${ map.pageNum }&no=' + value2 + '&${ searchQuery}';
}

function search() {
    searchForm.action="${path}/member_servlet/member_search.do";
    searchForm.method="post";
    searchForm.submit();
 }

</script>

</body>
</html>