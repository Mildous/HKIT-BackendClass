<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cart">
	<select id="getSelectAll" resultType="com.oy.springStudy.cart.model.dto.CartDTO">
		select 
			c.cartNo, c.productNo, c.amount, c.regiDate,
			p.productName, p.productPrice,
			m.no, m.id, m.name,
			(p.productPrice * c.amount) pay
		from cart c, product p, member m
		where c.productNo = p.productNo and c.memberNo = m.no
		order by cartNo desc
	</select>
	
	<insert id="setInsert">
		insert into cart values (
			seq_cart.nextval, 
			#{productNo}, 
			#{amount}, 
			#{memberNo},
			sysdate
		)
	</insert>

</mapper>

